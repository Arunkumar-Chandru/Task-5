import java.util.ArrayList;
import java.util.Scanner;

class Account{
    private double balance;
    private final ArrayList<String> history;

    public Account(String accountHolder,double initialBalance){
        this.balance=initialBalance;
        this.history=new ArrayList<>();
        history.add("Account created for "+accountHolder+"with balance: "+initialBalance);
    }

    public void deposit(double amount){
        if(amount>0){
            balance+=amount;
            history.add("Deposited: "+amount+" | Balance: "+balance);
            System.out.println("Deposit successful. Current balance: "+balance);
        } else{
            System.out.println("Invalid deposit amount.");
        }
    }

    public void withdraw(double amount){
        if(amount>0 && amount<=balance){
            balance-=amount;
            history.add("Withdrew: "+amount+" | Balance: "+balance);
            System.out.println("Withdrawal successful. Current balance: "+balance);
        } else{
            System.out.println("Insufficient balance or invalid amount.");
        }
    }

    public void viewHistory(){
        System.out.println(" Transaction History ");
        for(String record : history){
            System.out.println(record);
        }
    }
}

public class BankApp{
    public static void main(String[] args) {
        try(Scanner sc=new Scanner(System.in)){
            System.out.print("Enter Account Holder Name:");
            String name=sc.nextLine();
            System.out.print("Enter Initial Balance:");
            double balance=sc.nextDouble();
            Account account=new Account(name,balance);
            int choice;
            System.out.println(" Bank Menu ");
            System.out.println("1. Deposit");
            System.out.println("2. Withdraw");
            System.out.println("3. View Transaction History");
            System.out.println("4. Exit");
            do{
                System.out.println();
                System.out.print("Enter choice:");
                choice=sc.nextInt();
                switch(choice){
                    case 1 -> {
                        System.out.print("Enter deposit amount:");
                        double depAmt=sc.nextDouble();
                        account.deposit(depAmt);
                    }
                    case 2 -> {
                        System.out.print("Enter withdrawal amount:");
                        double withAmt=sc.nextDouble();
                        account.withdraw(withAmt);
                    }
                    case 3 -> account.viewHistory();
                    case 4 -> System.out.println("Exiting...");
                    default -> System.out.println("Invalid choice.");
                }
            }while(choice!=4);
        }
    }
}
